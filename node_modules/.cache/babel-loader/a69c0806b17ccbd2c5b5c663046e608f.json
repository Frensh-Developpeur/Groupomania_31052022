{"ast":null,"code":"import \"core-js/modules/es.regexp.constructor.js\";\nimport \"core-js/modules/es.regexp.dot-all.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.sticky.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport \"core-js/modules/es.string.trim.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.json.stringify.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'loginPage',\n  data: function data() {\n    return {\n      mail: 'Adresse email',\n      password: 'Mot de passe',\n      affichMdp: 'Aperçu du mot de passe',\n      messageMdp: '',\n      numberAffichMsg: true,\n      validLogin: null,\n      buttonLogin: false,\n      regexpBoolMail: null,\n      regexpBoolPassword: null,\n      passwordRegExp: new RegExp(\"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})\"),\n      emailRegExp: new RegExp(/^[\\w-.]+@([\\w-]+.)+[\\w-]{2,4}$/i),\n      connexionUser: false\n    };\n  },\n  methods: {\n    affichMsgConf: function affichMsgConf() {\n      if (this.numberAffichMsg === false) {\n        this.numberAffichMsg = true;\n        document.getElementById('password-login').setAttribute(\"type\", \"password\");\n      } else {\n        this.numberAffichMsg = false;\n        document.getElementById('password-login').setAttribute(\"type\", \"text\");\n      }\n    },\n    onEnter: function onEnter() {\n      var mailLogin = document.getElementById('email-login');\n      var passwordLogin = document.getElementById('password-login');\n      if (this.emailRegExp.test(mailLogin.value.trim()) ? this.regexpBoolMail = true : this.regexpBoolMail = false) ;\n      if (this.passwordRegExp.test(passwordLogin.value.trim()) ? this.regexpBoolPassword = true : this.regexpBoolPassword = false) ;\n\n      if (this.regexpBoolMail === true && this.regexpBoolPassword === true) {\n        this.buttonLogin = true;\n      }\n\n      if (this.regexpBoolMail === false || this.regexpBoolPassword === false) {\n        this.buttonLogin = false;\n      }\n    },\n    checkLogin: function checkLogin() {\n      var _this = this;\n\n      if (this.regexpBoolMail === true && this.regexpBoolPassword === true) {\n        var loginCheck = {\n          Email: document.querySelector('#email-login').value,\n          Password: document.querySelector('#password-login').value\n        };\n        fetch('http://localhost:3000/api/auth/login', {\n          method: \"POST\",\n          headers: {\n            'Accept': 'application/json',\n            'Content-type': 'application/json'\n          },\n          body: JSON.stringify(loginCheck)\n        }).then(function (res) {\n          return res.json();\n        }).then(function (login) {\n          if (login.userId === undefined) {\n            _this.validLogin = false;\n            setTimeout(function () {\n              _this.validLogin = null;\n              return false;\n            }, 3000);\n          } else {\n            _this.validLogin = true;\n            setTimeout(function () {\n              window.location.assign(\"http://localhost:8080/fil\");\n              sessionStorage.setItem('user', JSON.stringify(login));\n              location.reload();\n            }, 2000);\n          }\n        });\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACAA,mBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,2BADA;AAEAC,8BAFA;AAGAC,yCAHA;AAIAC,oBAJA;AAKAC,2BALA;AAMAC,sBANA;AAOAC,wBAPA;AASAC,0BATA;AAUAC,8BAVA;AAYAC,+FAZA;AAaAC,gEAbA;AAeAC;AAfA;AAiBA,GApBA;AAqBAC;AACAC,iBADA,2BACA;AACA;AACA;AACAC;AACA,OAHA,MAGA;AACA;AACAA;AACA;AACA,KATA;AAWAC,WAXA,qBAWA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AACA;AACA;AACA;AACA,KAvBA;AAyBAC,cAzBA,wBAyBA;AAAA;;AACA;AACA;AACAC,6DADA;AAEAC;AAFA;AAQAC;AACAC,wBADA;AAEAC;AACA,wCADA;AAEA;AAFA,WAFA;AAMAC;AANA,WASAC,IATA,CASA;AAAA;AAAA,SATA,EAUAA,IAVA,CAUA;AACA;AACA;AACAC;AACA;AACA;AACA,aAHA,EAGA,IAHA;AAIA,WANA,MAMA;AACA;AACAA;AACAC;AACAC;AACAC;AACA,aAJA,EAIA,IAJA;AAMA;AACA,SA1BA;AA4BA;AACA;AAhEA;AArBA","names":["name","data","mail","password","affichMdp","messageMdp","numberAffichMsg","validLogin","buttonLogin","regexpBoolMail","regexpBoolPassword","passwordRegExp","emailRegExp","connexionUser","methods","affichMsgConf","document","onEnter","checkLogin","Email","Password","fetch","method","headers","body","then","setTimeout","window","sessionStorage","location"],"sourceRoot":"src/components/Log","sources":["loginPage.vue"],"sourcesContent":["<template>\n  <div id=\"table-column\">\n    <div class=\"mb-3\">\n      <label for=\"email-login\" id=\"fontText\" class=\"form-label\">{{mail}}</label>\n\n      <div class=\"icoDiv\">\n        <input\n          type=\"email\"\n          class=\"template-login-signup\"\n          id=\"email-login\"\n          @keyup=\"onEnter\"\n          placeholder=\"Groupomania@example.com\"\n        />\n        <font-awesome-icon\n          icon=\"fa-solid fa-triangle-exclamation\"\n          class=\"test7\"\n          v-show=\"regexpBoolMail === false\"\n        />\n        <font-awesome-icon\n          icon=\"fa-solid fa-check\"\n          class=\"test8\"\n          v-show=\"regexpBoolMail === true\"\n        />\n      </div>\n\n      <label\n        for=\"password-login\"\n        id=\"fontText\"\n        class=\"form-label\"\n        >{{password}}</label\n      >\n\n      <div class=\"icoDiv\">\n        <input\n          type=\"password\"\n          class=\"template-login-signup\"\n          @keyup=\"onEnter\"\n          id=\"password-login\"\n          placeholder=\"Groupomania\"\n        />\n        <font-awesome-icon\n          @click=\"affichMsgConf\"\n          icon=\"fa-solid fa-eye-low-vision\"\n          class=\"test8\"\n        />\n        <font-awesome-icon\n          icon=\"fa-solid fa-triangle-exclamation\"\n          class=\"test11\"\n          v-show=\"regexpBoolPassword === false\"\n        />\n        <font-awesome-icon\n          icon=\"fa-solid fa-check\"\n          class=\"test10\"\n          v-show=\"regexpBoolPassword === true\"\n        />\n      </div>\n      <input\n        @click=\"checkLogin\"\n        href=\"/espaceUser\"\n        v-show=\"buttonLogin === true\"\n        class=\"button-loginSignup\"\n        id=\"buttonLoginSignup\"\n        type=\"submit\"\n        value=\"Confirmer\"\n      />\n      <p class=\"validColor\" v-show=\"validLogin === true\">Connexion Réussie !</p>\n      <p class=\"errorColor\" v-show=\"validLogin === false\">\n        L'adresse mail ou le mot de passe est incorrect !\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n   name:'loginPage',\ndata(){\n    return{\n   mail: 'Adresse email',\n   password:'Mot de passe',\n   affichMdp: 'Aperçu du mot de passe',\n   messageMdp: '',\n   numberAffichMsg: true,\n   validLogin: null,\n   buttonLogin: false,\n\n   regexpBoolMail: null,\n   regexpBoolPassword: null,\n\n   passwordRegExp : new RegExp(`^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})`),\n   emailRegExp : new RegExp (/^[\\w-.]+@([\\w-]+.)+[\\w-]{2,4}$/i),\n\n   connexionUser : false\n    }\n},\n methods: {\n    affichMsgConf() {\n        if (this.numberAffichMsg === false) {\n            this.numberAffichMsg = true;\n            document.getElementById('password-login').setAttribute(\"type\", \"password\");\n        } else {\n            this.numberAffichMsg = false;\n            document.getElementById('password-login').setAttribute(\"type\", \"text\");\n        }\n    },\n\n    onEnter() {\n        let mailLogin = document.getElementById('email-login');\n        let passwordLogin = document.getElementById('password-login');\n        if (this.emailRegExp.test(mailLogin.value.trim()) ? this.regexpBoolMail = true : this.regexpBoolMail = false);\n        if (this.passwordRegExp.test(passwordLogin.value.trim()) ? this.regexpBoolPassword = true : this.regexpBoolPassword = false);\n\n        if (this.regexpBoolMail === true && this.regexpBoolPassword === true) {\n            this.buttonLogin = true;\n        }\n        if (this.regexpBoolMail === false || this.regexpBoolPassword === false) {\n            this.buttonLogin = false;\n        }\n    },\n\n    checkLogin() {\n        if (this.regexpBoolMail === true && this.regexpBoolPassword === true) {\n            let loginCheck = {\n                Email: document.querySelector('#email-login').value,\n                Password: document.querySelector('#password-login').value\n            };\n\n\n\n\n            fetch('http://localhost:3000/api/auth/login', {\n                    method: \"POST\",\n                    headers: {\n                        'Accept': 'application/json',\n                        'Content-type': 'application/json'\n                    },\n                    body: JSON.stringify(loginCheck)\n                })\n\n                .then(res => res.json())\n                .then(login => {\n                    if (login.userId === undefined) {\n                        this.validLogin = false;\n                        setTimeout(() => {\n                            this.validLogin = null;\n                            return false;\n                        }, 3000)\n                    } else {\n                        this.validLogin = true;\n                        setTimeout(() => {\n                            window.location.assign(`http://localhost:8080/fil`)\n                            sessionStorage.setItem('user', JSON.stringify(login));\n                            location.reload();\n                        }, 2000)\n\n                    }\n                })\n\n        }\n    }\n}\n}\n</script>\n\n<style>\n#fontText {\n  margin-top: 3%;\n  font-family: \"Raleway\", sans-serif;\n  font-size: 1.2rem;\n}\n#buttonLoginSignup,\n#buttonLoginSignup2 {\n  margin-top: 5%;\n  border: 2px solid white;\n  border-radius: 15px / 20px;\n  background-color: #ffffff;\n  font-family: \"Raleway\", sans-serif;\n  font-size: 1.2rem;\n  padding: 1% 5%;\n  cursor: grab;\n}\n#buttonLoginSignup:hover,\n#buttonLoginSignup2:hover,\n.modifButtonUser:hover,\n.suppButtonUser:hover,\n.updateButtonUser:hover,\n.buttonUpdateImg:hover,\n.nav-li:hover,\n.modifyPostGet:hover,\n.commPostGet:hover,\n.modifButtonPostTest:hover,\n.deletePost:hover {\n  transform: scale(1.1);\n  transition: 1.5s;\n}\n\n#table-column {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-top: 10%;\n}\n.errorMsg {\n  color: red;\n  font-family: \"Raleway\", sans-serif;\n  margin-top: 15px;\n  font-size: 1.5rem;\n}\n.mb-3 {\n  color: white;\n  padding-top: 5%;\n  width: 50%;\n  padding-bottom: 5%;\n\n  border-radius: 15px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background-size: 800%;\n  background-image: url(\"../../assets/background-login.webp\");\n}\n.template-login-signup {\n  width: 50%;\n  margin-top: 15px;\n  text-align: center;\n  font-family: \"Raleway\", sans-serif;\n  font-size: 1.2rem;\n}\n.errorColor {\n  margin-top: 5%;\n  text-align: center;\n  width: 50%;\n  color: orange;\n  font-family: \"Raleway\", sans-serif;\n  font-size: 2rem;\n}\n.validColor {\n  margin-top: 5%;\n  text-align: center;\n  width: 50%;\n  color: lightgreen;\n  font-family: \"Raleway\", sans-serif;\n  font-size: 2rem;\n}\n.test8 {\n  width: 25px;\n  height: 26px;\n  color: green;\n  position: absolute;\n  top: 38%;\n  right: 25%;\n  cursor: grab;\n}\n.test9 {\n  cursor: grab;\n}\n.test7 {\n  width: 30px;\n  height: 26px;\n  color: red;\n  position: absolute;\n  top: 38%;\n  right: 25%;\n}\n.test13 {\n  width: 30px;\n  height: 26px;\n  color: red;\n  position: absolute;\n  top: 38%;\n  right: 35%;\n}\n.test12 {\n  width: 25px;\n  height: 26px;\n  color: green;\n  position: absolute;\n  top: 38%;\n  right: 35%;\n}\n@media screen and (max-width: 1164px) {\n  .template-login-signup {\n    width: 90%;\n  }\n  .test7.svg-inline--fa.fa-triangle-exclamation,\n  .test8.svg-inline--fa.fa-check {\n    right: 5%;\n  }\n  .test8.svg-inline--fa.fa-eye-low-vision {\n    right: 5%;\n  }\n  .test11.svg-inline--fa.fa-triangle-exclamation,\n  .test10.svg-inline--fa.fa-check {\n    right: 11%;\n  }\n}\n@media screen and (max-width: 768px) {\n  .mb-3 {\n    padding-top: 0%;\n    width: 80%;\n  }\n}\n\n@media screen and (max-width: 700px) {\n  .nav-li {\n    margin-bottom: 15%;\n  }\n  .nav-ul-login {\n    width: 20% !important;\n    margin-right: 5%;\n    flex-direction: column;\n  }\n}\n@media screen and (max-width: 540px) {\n  .nav-li {\n    margin-bottom: 50% !important;\n  }\n  .nav-ul-login {\n    width: 10% !important;\n    margin-right: 5% !important;\n\n    flex-direction: column;\n  }\n  .mb-3 {\n    width: 90%;\n  }\n}\n@media screen and (max-width: 430px) {\n  .nav-ul-login {\n    margin-right: 10% !important;\n  }\n}\n@media screen and (max-width: 375px) {\n  .mb-3 {\n    width: 100%;\n    border-radius: 0px;\n  }\n  #table-column {\n    padding-top: 0% !important;\n  }\n\n  .template-login-signup {\n    width: 95%;\n  }\n  .test7.svg-inline--fa.fa-triangle-exclamation,\n  .test8.svg-inline--fa.fa-check {\n    right: 2%;\n  }\n  .test8.svg-inline--fa.fa-eye-low-vision {\n    right: 2%;\n  }\n  .test11.svg-inline--fa.fa-triangle-exclamation,\n  .test10.svg-inline--fa.fa-check {\n    right: 9%;\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}