{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nvar sessionUser = JSON.parse(sessionStorage.getItem('user'));\nexport default {\n  name: 'espace-user',\n  data: function data() {\n    return {\n      user: '',\n      modifUser: false,\n      userId: sessionUser.userId,\n      tokenUser: sessionUser.token\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    axios.get(\"http://localhost:3000/api/auth/\" + this.userId, {\n      headers: {\n        'Authorization': 'Bearer ' + sessionUser.token\n      }\n    }).then(function (response) {\n      return _this.user = response.data;\n    }).catch(function (error) {\n      error;\n      sessionStorage.clear();\n      location.reload();\n      window.location.assign(\"http://localhost:8080/\");\n    });\n  },\n  methods: {\n    test: function test() {\n      var test2 = document.getElementById('Img-modifUser').value;\n      console.log(test2);\n    },\n    updateUser: function updateUser() {\n      this.modifUser = true;\n    },\n    suppUser: function suppUser() {\n      axios.delete(\"http://localhost:3000/api/auth/\" + this.userId, {\n        headers: {\n          'Authorization': 'Bearer ' + sessionUser.token,\n          'userId': sessionUser.userId\n        }\n      }).then(function (response) {\n        return response;\n      });\n      sessionStorage.clear();\n      location.reload();\n      window.location.assign(\"http://localhost:8080/\");\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;AACA;AAEA;AACAA,qBADA;AAGAC,MAHA,kBAGA;AACA;AACAC,cADA;AAEAC,sBAFA;AAGAC,gCAHA;AAIAC;AAJA;AAMA,GAVA;AAWAC,SAXA,qBAWA;AAAA;;AAEAC;AACAC;AACA;AADA;AADA,OAKAC,IALA,CAKA;AAAA;AAAA,KALA,EAMAC,KANA,CAMA;AACAC;AACAC;AACAC;AACAC;AACA,KAXA;AAYA,GAzBA;AA2BAC;AACAC,QADA,kBACA;AACA;AACAC;AAEA,KALA;AAOAC,cAPA,wBAOA;AACA;AACA,KATA;AAWAC,YAXA,sBAWA;AACAZ,YACAa,MADA,CACA,+CADA,EACA;AACAZ;AACA,wDADA;AAEA;AAFA;AADA,OADA,EAOAC,IAPA,CAOA;AAAA;AAAA,OAPA;AAQAG;AACAC;AACAC;AACA;AAvBA;AA3BA","names":["name","data","user","modifUser","userId","tokenUser","mounted","axios","headers","then","catch","error","sessionStorage","location","window","methods","test","console","updateUser","suppUser","delete"],"sourceRoot":"src/components/forum","sources":["espaceUser.vue"],"sourcesContent":["<template>\n    <div id=\"table-column\">\n        <div  v-show=\"modifUser === false\" class=\"mb-3 page2\">  \n          <img class=\"imgUser\"  src=\"../../assets/test4.jpeg\" alt=\"image de profil\">\n          <h1 class=\"nameUser\" >{{user.FirstName}} {{user.Name}}</h1>\n          <p class=\"paramsUser\">Adresse mail : {{user.Email}}</p>\n          <p class=\"paramsUser\">Date de naissance : {{user.Birthday}}</p>\n          <p class=\"paramsUser\">Ville : {{user.City}}</p>\n          <p class=\"paramsUser\">Adresse: {{user.Adress}}</p>\n          <div v-show=\"modifUser === false\" class=\"buttonUser\">\n              <button @click=\"updateUser\" class=\"modifButtonUser\">Modifier</button>\n              <button @click=\"suppUser\" class=\"suppButtonUser\">Supprimer mon compte</button>\n          </div>\n          </div>\n          \n           <div v-show=\"modifUser === true\" class=\"mb-3 page2\"> \n\n         <img class=\"imgUser\"  src=\"../../assets/test4.jpeg\" alt=\"image de profil\">\n\n         <label id=\"fontText\" class=\"form-label\" for=\"Img-modifUser\">Sélectionner une image de profil </label>\n\n         <div class=\"icoDiv\">\n           <input type=\"file\" @click=\"test\" accept=\".jpg, .jpeg, .png\" class=\"template-login-signup\" id=\"Img-modifUser\" >  \n        </div>      \n                    \n        <label for=\"Name-modifUser\" id=\"fontText\" class=\"form-label\">Nom</label>\n\n        <div class=\"icoDiv\">\n         <input type=\"text\" class=\"template-login-signup\" id=\"Nom-modifUser\"  placeholder=\"Ramtohul\">  \n        </div>\n\n        <label for=\"FirstName-modifUser\" id=\"fontText\" class=\"form-label\">Prénom</label>\n\n        <div class=\"icoDiv\">\n         <input type=\"text\" class=\"template-login-signup\" id=\"FirstName-modifUser\"  placeholder=\"Franck\">  \n        </div>\n       \n       <label for=\"Email-modifUser\" id=\"fontText\" class=\"form-label\">Email</label>\n\n        <div class=\"icoDiv\">\n         <input type=\"text\" class=\"template-login-signup\" id=\"Email\"  placeholder=\"test@groupomania.fr\">  \n        </div>\n\n         <label for=\"City-modifUser\" id=\"fontText\" class=\"form-label\">Ville</label>\n\n        <div class=\"icoDiv\">\n         <input type=\"text\" class=\"template-login-signup\" id=\"City-modifUser\"  placeholder=\"Dijon\">  \n        </div>\n\n        <label for=\"Adress-modifUser\" id=\"fontText\" class=\"form-label\">Adresse</label>\n\n        <div class=\"icoDiv\">\n         <input type=\"text\" class=\"template-login-signup\" id=\"Adress-modifUser\"  placeholder=\"32 rue de Dijon\">  \n        </div>\n\n          <div v-show=\"modifUser === true\" class=\"buttonUserUpdate\">\n              <button @click=\"updateUser\" class=\"modifButtonUser\">Confirmer</button>\n          </div>\n          </div>\n\n    </div>\n</template>\n\n<script>\n\n\nimport axios from 'axios';\nlet sessionUser = JSON.parse(sessionStorage.getItem('user'));\n\nexport default {   \n   name: 'espace-user',\n   \n   data(){\n       return{\n           user : '',\n           modifUser: false,\n           userId: sessionUser.userId,\n           tokenUser: sessionUser.token\n       }\n   },\n   mounted () {\n        \n        axios.get(`http://localhost:3000/api/auth/` + this.userId, {\n        headers: {\n           'Authorization':'Bearer ' + sessionUser.token,\n               },\n        })\n       .then(response => (this.user = response.data))\n       .catch((error) => {\n           error\n           sessionStorage.clear();\n           location.reload();\n           window.location.assign(`http://localhost:8080/`)\n       })\n    },\n\n   methods:{\n       test(){\n          let test2 = document.getElementById('Img-modifUser').value;\n          console.log(test2)\n\n       },\n\n       updateUser(){\n         this.modifUser = true;\n       },\n\n       suppUser(){\n          axios\n          .delete(`http://localhost:3000/api/auth/` + this.userId,{\n              headers: {\n           'Authorization':'Bearer ' + sessionUser.token,\n           'userId': sessionUser.userId,\n               },\n          })\n          .then(response => response)\n          sessionStorage.clear();\n          location.reload();\n          window.location.assign(`http://localhost:8080/`)\n       }\n   }\n   \n}\n\n\n</script>\n\n\n<style>\n.page2{\n    font-family: 'Raleway', sans-serif;\n}\n.imgUser{\n    width: 20%;\n}\n.nameUser{\n    text-transform: uppercase;\n    font-size: 2rem;\n    margin-bottom: 4%;\n    margin-top: 5%;\n}\n.paramsUser{\n    font-size: 1.1rem;\n    margin-bottom: 3%;\n}\n.buttonUser{\n    display: flex;\n    flex-direction: column;\n    flex-wrap: wrap;\n}\n.modifButtonUser{\n    padding: 10%;\n    color: white;\n    background: green;\n    border: 0px;\n    cursor: grab;\n    border-radius: 15px / 15px;\n    font-size: 1rem;\n    margin-bottom: 5%;\n    font-family: 'Raleway', sans-serif;\n}\n.suppButtonUser{\n    padding: 5%;\n    color: white;\n    background: red;\n    border: 0px;\n    cursor: grab;\n    border-radius: 15px / 15px;\n     font-size: 1rem;\n    font-family: 'Raleway', sans-serif;\n}\n</style>"]},"metadata":{},"sourceType":"module"}